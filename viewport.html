<!DOCTYPE html>
<head>
<meta http-equiv='content-type' content='text/html; charset=UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<title>viewport test</title>
<style>
#backdrop
{
	position:absolute;
	left:0; top:0;
	width:100%;
	height:100%;
	overflow:hidden;
}
</style>
</head>

<body>
<div id='backdrop'>
  <img id='content' src='sample_boxes.png'/>
</div>

<script>
var box = [49,70,138,159]; //left, top, right, bottom
var content = document.getElementById('content');
window.addEventListener('resize', onresize, false);
function onresize()
{
	var x = -(box[0]+box[2])/2;
	var y = -(box[1]+box[3])/2;
	var w = box[2]-box[0];
	var h = box[3]-box[1];
	var scalex = window.innerWidth / w;
	var scaley = window.innerHeight / h;
	var scale = scalex < scaley ? scalex : scaley;
	scale *= 0.95;
	content.style['transformOrigin']= '0 0';
	content.style['transform']=
		'translate('+window.innerWidth/2+'px,'+window.innerHeight/2+'px) '+
		'scale('+scale+','+scale+') '+
		'translate('+x+'px,'+y+'px) ';
}
onresize();
</script>
</body>
